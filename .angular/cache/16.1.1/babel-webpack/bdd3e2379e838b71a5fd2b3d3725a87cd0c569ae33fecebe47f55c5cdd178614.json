{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let FullScreenComponent = class FullScreenComponent {\n  constructor(route, medialibraryService, backgroundimageService, appsettingService) {\n    this.route = route;\n    this.medialibraryService = medialibraryService;\n    this.backgroundimageService = backgroundimageService;\n    this.appsettingService = appsettingService;\n    this.duration = 50;\n    this.newImage = {\n      file: '',\n      src: '',\n      order: 0,\n      edit: false,\n      isBackground: false\n    };\n    this.available_images = [{\n      src: '../../assets/media/bg1.jpg',\n      file: 'bg1'\n    }];\n    this.images = [{\n      id: 0,\n      file: 'bg1',\n      src: '../../assets/media/bg1.jpg',\n      order: 0,\n      edit: false\n    }];\n  }\n  ngOnInit() {\n    this.medialibraryService.availableimages().subscribe(ml_data => {\n      this.available_images = ml_data.files;\n      this.available_images.forEach(element => {\n        element.src = element.src.replace('/Users/danny/Documents/GitHub/SolatTV/src/', '../../');\n      });\n      // this.backgroundimageService.getall().subscribe((bi_data: any) => {\n      //   this.images = bi_data;\n      //   this.images.forEach(element => {\n      //     element.src = element.src.replace('/Users/danny/Documents/GitHub/SolatTV/src/', '../../');\n      //   });\n      //   this.sortArr();\n      this.appsettingService.get(1).subscribe(as_data => {\n        this.appsetting = as_data;\n        this.duration = as_data.fullscreenDuration;\n      });\n    });\n    // });\n  }\n\n  backToMenu() {\n    this.route.navigate(['menu']);\n  }\n  editItem(index) {\n    this.images[index].edit = !this.images[index].edit;\n  }\n  deleteItem(index) {\n    this.images.splice(index, 1);\n  }\n  selectedImage(index, src, file) {\n    this.images[index].src = src;\n    this.images[index].file = file;\n  }\n  selectedNewImage(src, file) {\n    let lastIndex = this.images.length + 1;\n    this.newImage = {\n      file: file,\n      src: src,\n      order: lastIndex,\n      edit: false\n    };\n  }\n  addNewImage() {\n    this.images.push(this.newImage);\n    this.newImage = {\n      file: '',\n      src: '',\n      order: 0,\n      edit: false,\n      isBackground: false\n    };\n  }\n  upSequence(index) {\n    const tempVal = this.images[index];\n    const i = this.images.indexOf(tempVal);\n    if (i > -1) {\n      this.images.splice(index, 1);\n    }\n    const newIndex = index - 1;\n    this.images.splice(newIndex, 0, tempVal);\n  }\n  downSequence(index) {\n    const tempVal = this.images[index];\n    const i = this.images.indexOf(tempVal);\n    if (i > -1) {\n      this.images.splice(index, 1);\n    }\n    const newIndex = index + 1;\n    this.images.splice(newIndex, 0, tempVal);\n  }\n  updateduration() {\n    this.appsetting.fullscreenDuration = this.duration;\n    this.appsettingService.update(this.appsetting, 1).subscribe(data => {});\n  }\n};\nFullScreenComponent = __decorate([Component({\n  selector: 'app-full-screen',\n  templateUrl: './full-screen.component.html',\n  styleUrls: ['./full-screen.component.css']\n})], FullScreenComponent);","map":{"version":3,"names":["Component","FullScreenComponent","constructor","route","medialibraryService","backgroundimageService","appsettingService","duration","newImage","file","src","order","edit","isBackground","available_images","images","id","ngOnInit","availableimages","subscribe","ml_data","files","forEach","element","replace","get","as_data","appsetting","fullscreenDuration","backToMenu","navigate","editItem","index","deleteItem","splice","selectedImage","selectedNewImage","lastIndex","length","addNewImage","push","upSequence","tempVal","i","indexOf","newIndex","downSequence","updateduration","update","data","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/danny/Documents/GitHub/SolatTV/src/app/full-screen/full-screen.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AppSettingService } from 'src/shared/proxy/appsetting/appsetting.service';\nimport { MediaLibraryService } from 'src/shared/proxy/medialibrary/medialibrary.service';\n\n\n@Component({\n  selector: 'app-full-screen',\n  templateUrl: './full-screen.component.html',\n  styleUrls: ['./full-screen.component.css']\n})\nexport class FullScreenComponent implements OnInit {\n\n  duration = 50;\n\n  appsetting: any;\n\n  currentImage: any;\n\n  newImage: any =\n  {\n    file: '',\n    src: '',\n    order: 0,\n    edit: false,\n    isBackground: false\n  };\n\n  available_images = [\n    {\n      src:'../../assets/media/bg1.jpg',\n      file: 'bg1'\n    },\n  ]\n\n  images = [\n    {\n      id: 0,\n      file:'bg1',\n      src: '../../assets/media/bg1.jpg',\n      order: 0,\n      edit:false\n    },\n  ];\n\n  constructor(\n    private route: Router,\n    private medialibraryService: MediaLibraryService,\n    private backgroundimageService: BackgroundImageService,\n    private appsettingService: AppSettingService,\n  ){}\n\n  ngOnInit(): void {\n    this.medialibraryService.availableimages().subscribe((ml_data: any) => {\n      this.available_images = ml_data.files;\n      this.available_images.forEach(element => {\n        element.src = element.src.replace('/Users/danny/Documents/GitHub/SolatTV/src/', '../../');\n      });\n\n      // this.backgroundimageService.getall().subscribe((bi_data: any) => {\n      //   this.images = bi_data;\n      //   this.images.forEach(element => {\n      //     element.src = element.src.replace('/Users/danny/Documents/GitHub/SolatTV/src/', '../../');\n      //   });\n\n      //   this.sortArr();\n\n        this.appsettingService.get(1).subscribe((as_data: any) => {\n          this.appsetting = as_data;\n          this.duration = as_data.fullscreenDuration;\n        });\n      });\n    // });\n  }\n\n  backToMenu(){\n    this.route.navigate(['menu']);\n  }\n\n  editItem(index: number){\n    this.images[index].edit = !this.images[index].edit;\n  }\n\n  deleteItem(index: number){\n    this.images.splice(index, 1);\n  }\n\n  selectedImage(index: number, src: string, file: string){\n    this.images[index].src = src;\n    this.images[index].file = file;\n  }\n\n  selectedNewImage(src: string, file: string){\n    let lastIndex = this.images.length + 1;\n    this.newImage = \n    {\n      file: file,\n      src: src,\n      order: lastIndex,\n      edit: false\n    }\n  }\n\n  addNewImage(){\n    this.images.push(this.newImage);\n    this.newImage = \n    {\n      file: '',\n      src: '',\n      order: 0,\n      edit: false,\n      isBackground: false\n    }\n  }\n\n  upSequence(index: number){\n    const tempVal = this.images[index];\n    const i = this.images.indexOf(tempVal);\n    if (i > -1) { \n      this.images.splice(index, 1);\n    }\n    const newIndex = index - 1;\n    this.images.splice(newIndex, 0, tempVal);\n  }\n\n  downSequence(index: number){\n    const tempVal = this.images[index];\n    const i = this.images.indexOf(tempVal);\n    if (i > -1) { \n      this.images.splice(index, 1);\n    }\n    const newIndex = index + 1;\n    this.images.splice(newIndex, 0, tempVal);\n  }\n\n  updateduration(){\n    this.appsetting.fullscreenDuration = this.duration;\n\n    this.appsettingService.update(this.appsetting, 1).subscribe((data: any) => {\n    })\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}